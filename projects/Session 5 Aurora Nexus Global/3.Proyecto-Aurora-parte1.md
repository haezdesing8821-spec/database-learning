# **Proyecto Aurora (parte 1)**

ESTE ES EL COMIENZO DE NUESTRO PROYECTO, LO PRIMERO QUE VEREMOS ES UN ENUNCIADO CON INFORMACI√ìN QUE DESEA TRABAJAR PARA ALMACENAR DATOS DE UNA EMPRESA MULTINACIONAL DISTRIBUIDORA DE ALIMENTOS Y RECURSOS.

**üìÑ ENUNCIADO DEL SISTEMA**

Se desea dise√±ar una base de datos de una empresa comercial y multinacional distribuidora de alimentos y recursos a nivel golbal, para la gesti√≥n integral que permita administrar de forma estructurada la informaci√≥n relacionada con empleados, clientes, procesos de venta, pagos, productos, proveedores y log√≠stica.

**üë§ EMPLEADOS**

En la empresa trabajan empleados que pueden desempe√±ar distintos roles dentro de la organizaci√≥n. Todos los empleados est√°n identificados por un c√≥digo de empleado y de cada uno se desea almacenar su **nombre, apellido, fecha de nacimiento, documento de identidad, fotograf√≠a y datos de contacto.**
Un empleado puede tener uno o varios correos electr√≥nicos y una o varias direcciones, manteni√©ndose siempre el historial de los datos.

Cada empleado mantiene un v√≠nculo laboral con la empresa, del cual interesa conocer la **fecha de ingreso, el puesto, el departamento y observaciones relevantes.** Adem√°s, la empresa cuenta con una **estructura jer√°rquica, por lo que un empleado puede supervisar a otros empleados. Todo empleado, salvo el de mayor jerarqu√≠a, debe tener un supervisor asignado, y un empleado no puede supervisarse a s√≠ mismo.**

**Los empleados** pueden pertenecer a dos subtipos: **administrativos y directivos**. No todos los empleados pertenecen necesariamente a alguno de estos subtipos. Un **empleado puede ser administrativo** y, adicionalmente, puede llegar a ser **directivo**, pero un **directivo** siempre debe haber sido previamente **administrativo**, no puede pertenercer a ambos subtipos a la vez, debe ser unica y exclusivamente uno u otro.

Se requiere almacenar el **`historial laboral`** de cada **`empleado`**, registrando los cambios de **`puesto`, `departamento` y `supervisor`**, indicando las **`fechas de inicio` y `finalizaci√≥n`** de cada per√≠odo. Todo cambio relevante en la situaci√≥n laboral del empleado debe quedar reflejado en este historial.

üßæ **CLIENTES, √ìRDENES, VENTAS Y PAGOS (BLOQUE COMERCIAL)**

**La empresa realiza operaciones comerciales con clientes**. Cada **`cliente`** est√° identificado por un **`c√≥digo de cliente`** y de √©l se desea almacenar su **`nombre` o `raz√≥n social`, `nombre de contacto`, `documento legal`, `direcci√≥n y ciudad`**. Un cliente puede tener uno o varios **`correos electr√≥nicos`**, siendo **`obligatorio` que tenga al menos uno registrado**. Un **mismo `documento legal` no puede corresponder a m√°s de un cliente**.

**Un `cliente` puede recomendar a otros `clientes`, pero no puede recomendarse a s√≠ mismo.**

Los **clientes realizan √≥rdenes de compra, las cuales deben estar asociadas obligatoriamente a un cliente y a un empleado responsable**. Una orden representa la intenci√≥n de compra y no necesariamente se convierte en una venta. De cada `orden` interesa conocer `la fecha`, el `estado` y el `transportista asignado`. Una orden no puede existir sin `cliente` ni `empleado responsable`, y no puede eliminarse si tiene `productos asociados`.

Cada `orden` se compone de uno o varios `detalles de orden`, donde se especifica el `producto solicitado`, la `cantidad` y el `precio unitario` aplicado en ese momento. La cantidad de un `producto` en una orden debe ser mayor que cero, y el `precio unitario` no puede modificarse una vez confirmada la orden.

Una `orden` puede generar una √∫nica `venta`, y una venta solo puede existir si est√° asociada a una `orden v√°lida`. De cada venta se almacena la `fecha de venta`, `ciudad`, `monto base`, `impuestos aplicados` y una `referencia de factura √∫nica`. El `monto total` de la venta debe calcularse a partir de sus componentes y no editarse manualmente.

Las ventas pueden recibir uno o `varios pagos`, permitiendo `pagos parciales`. De cada pago interesa conocer el `monto pagado`, la `fecha`, el `m√©todo de pago`, el `estado del pago` y `referencias asociadas`. Un pago no puede exceder el saldo pendiente de la venta y un pago rechazado no debe afectar el estado financiero de la misma. Una venta solo puede considerarse pagada cuando el total de los pagos cubre el monto total.

üì¶ **PRODUCTOS, PROVEEDORES Y LOG√çSTICA (BLOQUE PRODUCCI√ìN / SUMINISTRO)**

La empresa comercializa productos. Cada p`roducto` est√° identificado por un `c√≥digo de producto` y se desea almacenar su `nombre`, `c√≥digo de barras`, `cantidad por unidad` y `precio unitario`. El `c√≥digo de barras es √∫nico` y no puede modificarse una vez registrado. El precio y la cantidad por unidad deben ser valores mayores que cero.

Todo `producto` debe pertenecer obligatoriamente a una `categor√≠a`, que representa un `cat√°logo estable de clasificaci√≥n`. No puede haber dos `categor√≠as con el mismo nombre` y una `categor√≠a` no puede eliminarse si existen `productos asociados`.

Cada `producto` debe estar asociado al menos a un `subministrador`, que representa una `empresa proveedora`. De los `subministradores` se desea almacenar su `nombre de empresa`, `nombre de contacto`, `direcci√≥n`, `ciudad` y `tel√©fono`. Un `subministrador` puede proveer varios `productos`, pero no puede eliminarse si tiene `productos activos asociados`.

La empresa trabaja con `transportistas`, que se encargan de la log√≠stica de las √≥rdenes. Cada `transportista` est√° identificado por un `c√≥digo` y se desea almacenar su `nombre de empresa`, `tel√©fono` y `ciudad de operaci√≥n`. Un `transportista` puede gestionar m√∫ltiples √≥rdenes, pero una orden solo puede tener un transportista asignado. No se permite eliminar un transportista que est√© asociado a √≥rdenes activas.

Se recomienda que la eliminaci√≥n f√≠sica de `productos`, `proveedores` o `transportistas`se evite, optando por mecanismos de desactivaci√≥n l√≥gica para conservar la trazabilidad hist√≥rica.

# **Modelado de Datos**

## **Pasos principales a seguir**

1. Identificar las entidades del sistema.
1. Identificar los atributos de las entidades.
1. Identificar las llaves primarias y for√°neas.
1. Asignar una nomenclatura adeacuada a las entidades y sus atributos.
1. Identificar las entidades pivote del sistema.
1. Identificar los cat√°logos del sistema.
1. Identificar los tipos de relaciones del sistema.
1. Crear el Modelo Entidad-Relaci√≥n del sistema.
1. Crear el Modelo Relacional de la base de datos del sistema.
1. Identificar los tipos de dato de los atributos de las entidades del sistema.  
1. Identificar los atributos que puedan ser √∫nicos en el sistema.  
1. Identificar las reglas de negocio (`Operaciones CRUD`) del sistema y otras reglas de negocios.

## Glosario

- **PK** : `Primary Key`
- **FK** : `Foreign Key`
- **UQ** : `Unique Attribute`
- **EDD**: `Entidad de Datos`
- **EDP**: `Entidad Pivote`
- **EDC**: `Entidad Cat√°logo`
- **EF** : `Entidad Fuerte`
- **ED** : `Entidad Devil`

## **DESCRIPCI√ìN DE NUESTRO OBJETIVO**

El objetivo no es solo crear tablas, sino:

Dise√±ar un modelo de datos completo, normalizado y coherente para una empresa multinacional, aplicando de forma rigurosa:

    Modelo Entidad‚ÄìRelaci√≥n (MER)

    Reglas de negocio expl√≠citas

    Normalizaci√≥n hasta al menos 3FN

    Jerarqu√≠as (generalizaci√≥n / especializaci√≥n)

    Relaciones reflexivas

    Atributos multivaluados y compuestos

    Este es un ejercicio de dise√±o de bases de datos de nivel acad√©mico formal, no un simple esquema `SQL`

ENTIDADES

üß† Qu√© conceptos se buscan aplicar (y d√≥nde aparecen)

1Ô∏è‚É£ Identificaci√≥n correcta de entidades

El archivo define entidades expl√≠citas, entre ellas:

    cliente

    datos_empleado

    empleado

    direccion_empleado

    transportista

    ordene / detalles_ordene

    producto

    subministradore

    categoria

    pais / ciudad

    historial_laboral

    pago

    venta

    Objetivo did√°ctico: que el estudiante sepa distinguir entidades reales del negocio y no mezcle atributos con entidades

ENTIDADES

2Ô∏è‚É£ Separaci√≥n de datos personales y laborales del empleado

El hecho de que existan:

    datos_empleado

    empleado

    historial_laboral

    direccion_empleado

    indica claramente la intenci√≥n de:

    ‚úî Evitar redundancia

    ‚úî Cumplir 3FN

    ‚úî Separar identidad, datos contractuales y historial

Esto es normalizaci√≥n intencional, no casual

ENTIDADES

3Ô∏è‚É£ Atributos multivaluados correctamente tratados

Ejemplos claros en el documento:

    emails_empleados

    emails_clientes

Al no almacenarse directamente como listas, el ejercicio obliga a:

    Detectar multivaluados

    Normalizarlos en entidades independientes

    Objetivo: cumplir 1FN de forma estricta

ENTIDADES

4Ô∏è‚É£ Relaciones reflexivas expl√≠citas

    Regla textual del documento:

    ‚ÄúUn empleado puede tener control sobre uno o varios empleados‚Äù

ENTIDADES

    Esto define sin ambig√ºedad:

    Una relaci√≥n reflexiva

    Cardinalidad 1:N

    Un empleado subordinado solo puede tener un superior

    Objetivo: modelar jerarqu√≠as internas reales.

5Ô∏è‚É£ Generalizaci√≥n / Especializaci√≥n (jerarqu√≠a)

Regla de negocio clave:

‚ÄúUn administrativo puede ser directivo pero no al rev√©s‚Äù

ENTIDADES

    Esto implica:

    Especializaci√≥n solapada

    Parcial (no todos los empleados son administrativos o directivos)

üëâ Objetivo: aplicar herencia en bases de datos, uno de los temas m√°s avanzados del MER.

6Ô∏è‚É£ Cardinalidades reales del negocio

Ejemplos claros:

    Cliente ‚Üí Orden ‚Üí Detalle

    Producto ‚Üí Categor√≠a

    Producto ‚Üí Subministrador

    Orden ‚Üí Transportista

    Pago ‚Üí Detalle_orden

üëâ El ejercicio busca que no se usen cardinalidades por intuici√≥n, sino por reglas expl√≠citas del negocio

ENTIDADES

7Ô∏è‚É£ Separaci√≥n entre proceso comercial y financiero

La existencia independiente de:

    ordene

    venta

    pago

indica que el modelo quiere reflejar que:

    Una orden ‚â† una venta

    Una venta ‚â† un pago

    Un pago puede depender de un detalle espec√≠fico

üëâ Objetivo: modelar procesos reales, no simplificados

ENTIDADES

üìå Qu√© NO se espera que hagas (muy importante)

Seg√∫n el propio enunciado, no est√° permitido:

    Inventar m√©todos de pago

    Asumir monedas

    Crear estados no definidos

    Agregar atributos no mencionados

    Cambiar reglas de negocio

El √©nfasis est√° en:

    Aplicar correctamente los conceptos, no en ‚Äúmejorar‚Äù el modelo

ENTIDADES

üß≠ En resumen

Este ejercicio busca comprobar que puedes:

    ‚úî Leer reglas de negocio complejas

    ‚úî Detectar jerarqu√≠as y dependencias

    ‚úî Normalizar sin perder informaci√≥n

    ‚úî Dise√±ar un modelo escalable

    ‚úî Pensar como arquitecto de datos, no como digitador de tablas
